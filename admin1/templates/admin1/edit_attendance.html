{% extends "admin1/admin_master.html" %} {% load static %} {% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<style>
    body {
        color: black;
        background-color: white;

    }

    table,
    th,
    td {
        border: 2px solid black;
        border-style: double;
    }

    table {
        width: 1200px;
    }
    .checkbox{
        width: 30px;
    }
</style>

<br>
<h2 style="margin-left: 30px;">Attendance</h2><br><br>

<br><br>
<center>
    <div class="table-responsive">
        
    <form action="" method="post">
        {% csrf_token %}
        <table>
            <thead>
                <tr>
                  <th>Roll no</th>
                    <th>1</th>
                    <th>2</th>
                    <th>3</th>
                    <th>4</th>
                    <th>5</th>
                    <th>6</th>
                    <th>7</th>
                    <th>8</th>
                    <th>9</th>
                    <th>10</th>
                    <th>11</th>
                    <th>12</th>
                    <th>13</th>
                    <th>14</th>
                    <th>15</th>
                    <th>16</th>
                    <th>17</th>
                    <th>18</th>
                    <th>19</th>
                    <th>20</th>
                    <th>21</th>
                    <th>22</th>
                    <th>23</th>
                    <th>24</th>
                    <th>25</th>
                    <th>26</th>
                    <th>27</th>
                    <th>28</th>
                    <th>29</th>
                    <th>30</th>
                    <th>31</th>
                                   
                </tr>
            </thead>
            <tbody> 
                            
                <tr>  
                    <td>{{s_id}}</td> 
                    <td><input type="number"value="{{attend.day1}}" id="checkbox_field" name="day1" value="1" class="checkbox" ></td>
                    <td><input type="number"value="{{attend.day2}}"  id="checkbox_field" name="day2" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day3}}"  id="checkbox_field" name="day3" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day4}}"  id="checkbox_field" name="day4" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day5}}"  id="checkbox_field" name="day5" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day6}}"  id="checkbox_field" name="day6" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day7}}"  id="checkbox_field" name="day7" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day8}}"  id="checkbox_field" name="day8" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day9}}"  id="checkbox_field" name="day9" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day10}}"  id="checkbox_field" name="day10" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day11}}"  id="checkbox_field" name="day11" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day12}}"  id="checkbox_field" name="day12" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day13}}"  id="checkbox_field" name="day13" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day14}}" id="checkbox_field" name="day14" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day15}}" id="checkbox_field" name="day15" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day16}}"  id="checkbox_field" name="day16" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day17}}"  id="checkbox_field" name="day17" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day18}}"  id="checkbox_field" name="day18" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day19}}"  id="checkbox_field" name="day19" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day20}}"  id="checkbox_field" name="day20" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day21}}" id="checkbox_field" name="day21" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day22}}"  id="checkbox_field" name="day22" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day23}}"  id="checkbox_field" name="day23" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day24}}" id="checkbox_field" name="day24" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day25}}"  id="checkbox_field" name="day25" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day26}}" id="checkbox_field" name="day26" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day27}}"  id="checkbox_field" name="day27" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day28}}"  id="checkbox_field" name="day28" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day29}}"  id="checkbox_field" name="day29" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day30}}"  id="checkbox_field" name="day30" value="1" class="checkbox"></td>
                    <td><input type="number"value="{{attend.day31}}" id="checkbox_field" name="day31" value="1" class="checkbox"></td>
                                     
                </tr>
                            
            </tbody>
        </table>
        <br><br>
        <center>
            <div>
                <button type="submit" name="submit" id="submit" class="btn btn-primary" style="width: 200px;">Save</button>
            </div>
        </center>
        <h4 id="result"></h4>
    </form>
</div>
</center>

<script>
    $(document).ready(function() {
        $('#submit').click(function() {
            var insert = [];
            $('.checkbox').each(function() {
                if ($(this).is(":checked")) {
                    insert.push($(this).val());
                }
            });
            insert = insert.toString();         
            var insert_string = 'checkboxvalue='+insert;            
            $.ajax({
                method: "POST",
                url: "/insert",
                data: insert_string,
                cache: false,
                success: function(data){    
                    $("#result").html(data);
                }
            });
        });
    });
</script>



{% endblock %}



